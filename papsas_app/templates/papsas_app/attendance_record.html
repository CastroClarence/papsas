{% extends 'papsas_app/layout.html' %}

{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'papsas_app/record_attendance.css' %}">
{% endblock %}

{% block body %}
<div>
    <h1>Event</h1>
    {% for event in events %}
    <p>
        <a href="{% url 'attendance_view' event.id %}" class="event-links"> {{ event.eventName }} </a>
    </p>
    {% endfor %}
</div>

<div id="attendance_record">
    <a href="{% url 'attendance_list' %}">Close</a>
    <h2>Attendance Record</h2>
    <table>
        <tr>
            <th>Event Name</th>
            <th>Attendee Name</th>
            <th>Attendance Status</th>
        </tr>
        {% if attendees is not None %}
            {% for attendee in attendees %}
            <tr>
                <td>{{ attendee.event.event.eventName }}</td>
                <td>{{ attendee.user.first_name }} {{ attendee.user.last_name }} </td>
                <td>{{ attendee.attended }}</td>
            </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td>No existing data.</td>
            </tr>
        {% endif %}
    </table>
</div>

{% endblock %}

{% block script %}
<script src="{% static 'papsas_app/js/attendance_record.js' %}"></script>
{% endblock %}